<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scaleout Edge</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }
    /* Ensure Material Icons render correctly in the loaded content */
    .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 20; }
  </style>
</head>
<body>

  <div class="flex h-screen overflow-hidden bg-gray-50">

    <aside class="w-64 flex flex-col border-r border-gray-200 bg-gray-50 flex-shrink-0">
      
      <div class="h-16 flex items-center pl-5 pr-6 flex-shrink-0">
        <svg class="w-12 h-12 text-gray-900" fill="currentColor" viewBox="-50 -50 602 602">
           <path d="M313.7 34c54 0 81 0 101.7 10.4a97 97 0 0 1 42.2 42.2C468 107.2 468 134.3 468 188.3v125.4c0 54 0 81-10.5 101.7a97 97 0 0 1-42.2 42.2C394.8 468 367.7 468 313.7 468H188.3c-54 0-81 0-101.7-10.5a97 97 0 0 1-42.2-42.2C34 394.8 34 367.7 34 313.7V188.3c0-54 0-81 10.5-101.7a97 97 0 0 1 42.2-42.2C107.2 34 134.3 34 188.3 34zM179.3 169.6a81 81 0 0 0-57.5 23.8C106.4 208.8 98 229.2 98 251s8.4 42.2 23.8 57.5a81 81 0 0 0 115 0l71.6-71.5a19.7 19.7 0 0 1 28 0 20 20 0 0 1 0 28 19.7 19.7 0 0 1-28 0l-1.3-1.3-9.6 9.5 1.4 1.4a33.4 33.4 0 1 0 0-47.2L227.3 299a67 67 0 0 1-48 19.9 67.8 67.8 0 0 1-48-115.9 67.7 67.7 0 0 1 96 0l1.4 1.4 9.5-9.6-1.3-1.3a81 81 0 0 0-57.6-23.8m143.2 0a81 81 0 0 0-57.6 23.8L193.4 265a19.7 19.7 0 0 1-28 0 20 20 0 0 1 0-28 19.7 19.7 0 0 1 28 0l1.3 1.3 9.6-9.5-1.4-1.4a33.4 33.4 0 1 0 0 47.2l71.6-71.6c12.9-12.9 29.8-19.9 48-19.9s35 7 48 20a68 68 0 0 1 0 95.9h-.1a67.7 67.7 0 0 1-95.9 0l-1.4-1.4-9.5 9.6 1.3 1.3a81.4 81.4 0 1 0 57.6-138.8m0 24a57 57 0 0 0-40.6 16.7L210.3 282a43.6 43.6 0 0 1-62 0 43.7 43.7 0 0 1 0-62 43.6 43.6 0 0 1 62 0l1.4 1.4 9.6-9.6-1.4-1.4A57.2 57.2 0 0 0 122 251a57 57 0 0 0 57.3 57.3c15.4 0 29.7-5.8 40.6-16.7l71.6-71.6a43.6 43.6 0 0 1 62 0 43.7 43.7 0 0 1 0 62 43.6 43.6 0 0 1-62 0l-1.4-1.4-9.6 9.6 1.4 1.4a57.2 57.2 0 0 0 97.9-40.6 57 57 0 0 0-57.3-57.3"></path>
        </svg>
      </div>

      <div class="flex-1 overflow-y-auto px-4 py-2">
        <div class="flex items-center justify-between mb-4 px-3 py-2 rounded-md hover:bg-gray-100 cursor-pointer transition-colors group">
          <span class="font-medium text-base text-gray-900">Example Project</span>
          <i data-lucide="chevrons-up-down" class="w-4 h-4 text-gray-400 group-hover:text-gray-600"></i>
        </div>

        <nav class="space-y-1">
          <button 
            id="btn-dashboard"
            onclick="loadPage('dashboard')"
            class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md bg-white text-gray-900 shadow-sm transition-all border border-gray-200">
            <i data-lucide="layout-dashboard" class="w-5 h-5 text-gray-900"></i>
            Dashboard
          </button>

          <button 
            id="btn-models"
            onclick="loadPage('models')"
            class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md text-gray-500 hover:bg-white hover:shadow-sm hover:text-gray-900 transition-all border border-transparent">
            <i data-lucide="layers" class="w-5 h-5"></i>
            Models
          </button>

          <button class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md text-gray-500 hover:bg-white hover:shadow-sm hover:text-gray-900 transition-all border border-transparent">
            <i data-lucide="package" class="w-5 h-5"></i>
            Packages
          </button>

          <button 
            id="btn-clients"
            onclick="loadPage('clients')"
            class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md text-gray-500 hover:bg-white hover:shadow-sm hover:text-gray-900 transition-all border border-transparent">
            <i data-lucide="users" class="w-5 h-5"></i>
            Clients
          </button>

          <button class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md text-gray-500 hover:bg-white hover:shadow-sm hover:text-gray-900 transition-all border border-transparent">
            <i data-lucide="play-circle" class="w-5 h-5"></i>
            Sessions
          </button>

          <button 
            id="btn-events"
            onclick="loadPage('events')"
            class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md text-gray-500 hover:bg-white hover:shadow-sm hover:text-gray-900 transition-all border border-transparent">
            <i data-lucide="list" class="w-5 h-5"></i>
            Events
          </button>

          <button class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md text-gray-500 hover:bg-white hover:shadow-sm hover:text-gray-900 transition-all border border-transparent">
            <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
            Logs
          </button>
        </nav>
      </div>

      <div class="p-4 pt-0 border-t border-gray-200 bg-gray-50 flex-shrink-0">
        <nav class="space-y-1 mb-6 mt-4">
          <button 
            id="btn-settings"
            onclick="loadPage('settings')"
            class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md text-gray-500 hover:bg-white hover:shadow-sm hover:text-gray-900 transition-all border border-transparent">
            <i data-lucide="settings" class="w-5 h-5"></i>
            Settings
          </button>
          
          <button class="w-full flex items-center gap-3 px-3 py-2 text-base font-medium rounded-md text-gray-500 hover:bg-white hover:shadow-sm hover:text-gray-900 transition-all border border-transparent">
            <i data-lucide="help-circle" class="w-5 h-5"></i>
            Documentation
          </button>
        </nav>

        <div class="flex items-center gap-3 px-2 py-2 rounded-md hover:bg-gray-200/50 cursor-pointer transition-colors">
          <div class="w-9 h-9 rounded bg-gray-300 flex items-center justify-center text-xs font-semibold text-gray-700">UN</div>
          <div class="flex-1 min-w-0">
            <div class="text-base font-medium text-gray-900 truncate">User Name</div>
            <div class="text-xs text-gray-500 truncate">user@example.com</div>
          </div>
          <i data-lucide="more-vertical" class="w-4 h-4 text-gray-400"></i>
        </div>
      </div>
    </aside>

    <main class="flex-1 bg-white p-8 overflow-y-auto">
      <div id="main-content" class="max-w-7xl mx-auto space-y-6">
        
        <div class="flex items-center justify-center h-64">
           <div class="flex flex-col items-center gap-2">
             <i data-lucide="loader-2" class="w-8 h-8 animate-spin text-gray-400"></i>
             <span class="text-sm text-gray-500">Loading Dashboard...</span>
           </div>
        </div>

      </div>
    </main>

  </div>

  <script>
    // Configuration for the pages
    const PAGES = {
        dashboard: {
            url: 'https://raw.githubusercontent.com/jens-chilly/mock/refs/heads/main/dashboard.html',
            btnId: 'btn-dashboard'
        },
        models: {
            url: 'https://raw.githubusercontent.com/jens-chilly/mock/refs/heads/main/models.html',
            btnId: 'btn-models'
        },
        clients: {
            url: 'https://raw.githubusercontent.com/jens-chilly/mock/refs/heads/main/clients.html',
            btnId: 'btn-clients'
        },
        events: {
            url: 'https://raw.githubusercontent.com/jens-chilly/mock/refs/heads/main/events.html',
            btnId: 'btn-events'
        },
        settings: {
            url: 'https://raw.githubusercontent.com/jens-chilly/mock/refs/heads/main/settings.html',
            btnId: 'btn-settings'
        }
    };

    /**
     * Loads the content for a given page key
     */
    async function loadPage(pageKey) {
      const pageConfig = PAGES[pageKey];
      if (!pageConfig) return;

      const mainContent = document.getElementById('main-content');
      
      // 1. Set sidebar Active State
      updateSidebarState(pageConfig.btnId);

      // 2. Show Loader
      // Special check: If page is settings, use a narrower container for cleaner look if desired? 
      // For now, we stick to the unified layout.
      mainContent.innerHTML = `
          <div class="flex items-center justify-center h-64">
             <div class="flex flex-col items-center gap-2">
               <i data-lucide="loader-2" class="w-8 h-8 animate-spin text-gray-400"></i>
               <span class="text-sm text-gray-500">Loading ${pageKey}...</span>
             </div>
          </div>`;
      lucide.createIcons();

      // 3. Fetch and Inject Content
      try {
        const response = await fetch(pageConfig.url);
        if (!response.ok) throw new Error('Network response was not ok');
        const html = await response.text();
        
        mainContent.innerHTML = html;
        
        // IMPORTANT: Re-render icons for new content
        lucide.createIcons();

      } catch (error) {
        console.error('Error loading content:', error);
        mainContent.innerHTML = `
          <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative">
            <strong class="font-bold">Error!</strong>
            <span class="block sm:inline">Unable to load ${pageKey} content.</span>
            <p class="text-xs mt-1">Check console for details.</p>
          </div>`;
      }
    }

    /**
     * Helper to swap CSS classes for Active/Inactive buttons
     */
    function updateSidebarState(activeBtnId) {
        const activeClasses = ['bg-white', 'text-gray-900', 'shadow-sm', 'border-gray-200'];
        const activeRemove = ['text-gray-500', 'hover:bg-white', 'hover:shadow-sm', 'hover:text-gray-900', 'border-transparent'];

        document.querySelectorAll('nav button').forEach(btn => {
            const icon = btn.querySelector('i');
            
            if (btn.id) {
                if (btn.id === activeBtnId) {
                    btn.classList.remove(...activeRemove);
                    btn.classList.add(...activeClasses);
                    if(icon) icon.classList.add('text-gray-900');
                } else {
                    btn.classList.remove(...activeClasses);
                    btn.classList.add(...activeRemove);
                    if(icon) icon.classList.remove('text-gray-900');
                }
            }
        });
    }

    // Initialize sidebar icons immediately
    lucide.createIcons();
    
    // Default load: Dashboard
    loadPage('dashboard');
  </script>
</body>
</html>
